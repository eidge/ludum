<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <title>Ludum Dare is Here</title>


  <script src="/socket.io/socket.io.js"></script>
  <script type="text/javascript" charset="utf-8" src="/client/main.js"></script>
  <script type="text/javascript" charset="utf-8" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

  <link type="text/css" rel="stylesheet" href="/assets/stylesheets/main.css"></link>

  <style type="text/css" media="all">
    body html {
      height: 100%;
      width: 100%;
    }

    #ship {
      position: absolute;

      top: 0;
      left: 0;

      width: 20px;
      height: 20px;

      background-color: black;

      -webkit-transform: translate3d(0, 0, 0);
    }
  </style>


  <script type="text/javascript" charset="utf-8">
    'use strict'

    var socket = io.connect('http://localhost:3000');

    var pos = { x: 0, y: 0 }

    var speed_x = 3;
    var speed_y = 3;

    var sum = 0;

    setInterval(function() {
      if (pos.x >= $('body').width() || pos.x < 0)
          speed_x *= -1;
      if (pos.y >= $('body').height() || pos.y < 0)
          speed_y *= -1;

      pos.x += speed_x;
      pos.y += speed_y;

      $('#ship').css('left', pos.x);
      $('#ship').css('top', pos.y);
    }, 1000/100);

    setInterval(function(){
      //socket.io.emitAll('player_moved', pos);
    }, 1000/15);

    socket.on('update_world', function(_pos){
      pos = _pos;
    });
  </script>
</head>

<body>
  <h1>Hi there</h1>
  <div id="ship"></div>
  <div id="world">
  </div>
</body>

</html>
